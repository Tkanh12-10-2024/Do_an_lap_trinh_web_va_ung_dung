<head>
    <!-- Basic -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- Mobile Metas -->
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <!-- Site Metas -->
    <meta name="keywords" content="" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <link rel="shortcut icon" href="images/favicon.png" type="" />
    <link rel="stylesheet" href="/feane-1.0.0//js/menu.js" />
    <link rel="stylesheet" href="/feane-1.0.0//css/menu.css" />

    <title>Feane</title>

    <link rel="stylesheet" href="./css/giohang.css">
    <!-- bootstrap core css -->
    <link rel="stylesheet" type="text/css" href="css/bootstrap.css" />

    <!--owl slider stylesheet -->
    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css"
    />
    <!-- nice select  -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/jquery-nice-select/1.1.0/css/nice-select.min.css"
      integrity="sha512-CruCP+TD3yXzlvvijET8wV5WxxEh5H8P4cmz0RFbKK6FlZ2sYl3AEsKlLPHbniXKSrDdFewhbmBK5skbdsASbQ=="
      crossorigin="anonymous"
    />
    <!-- font awesome style -->
    <link href="css/font-awesome.min.css" rel="stylesheet" />

    <!-- Custom styles for this template -->
    <link href="css/style.css" rel="stylesheet" />
    <!-- responsive style -->
    <link href="css/responsive.css" rel="stylesheet" />
  
  <style>
    .cart-page {
  background-color: rgba(0, 0, 0, 0.5); /* hoặc bỏ hoàn toàn */
  padding: 40px 0;
}
    .cart-container {
      max-width: 1100px;
      margin: 0 auto;
      background: #fff;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 6px 18px rgba(15,23,42,0.06);
    }
    .cart-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }
    .cart-list {
      display: flex;
      flex-direction: column;
      gap: 16px;
      margin-bottom: 20px;
    }
    .cart-item {
      display: flex;
      align-items: center;
      gap: 16px;
      border: 1px solid #e6e9ee;
      padding: 12px;
      border-radius: 8px;
      background-color: #fbfdff;
    }
    .cart-item img {
      width: 80px;
      height: 60px;
      object-fit: cover;
      border-radius: 6px;
    }
    .cart-summary {
      border-top: 1px dashed #ddd;
      padding-top: 12px;
      text-align: right;
      font-weight: bold;
    }
    .checkout-btn {
      background-color: #4CAF50;
      color: #fff;
      padding: 12px 24px;
      border: none;
      border-radius: 10px;
      font-weight: 600;
      cursor: pointer;
    }
    .checkout-btn:hover {
      background-color: #2e8b3b;
    }
    body {
  background-image: url("images/hero-bg.jpg");
  background-size: cover;
  background-repeat: no-repeat;
  background-position: center;
  background-attachment: fixed;
  margin: 0;
  font-family: "Segoe UI", sans-serif;
  color: #fff;
}
    
  </style>
</head>

<body class="sub_page" >
  <!-- NAVBAR -->
  <nav class="navbar navbar-expand-lg bg-light shadow-sm">
    <div class="container">
      <a class="navbar-brand text-success fw-bold" href="index.html">
        Lẩu Ngon
      </a>
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link" style="color: #ffbe33" href="index - signin.html">Trang Chủ</a></li>
        <li class="nav-item"><a class="nav-link" style="color: #ffbe33" href="menu-signin.html">Menu</a></li>
        <li class="nav-item"><a class="nav-link" style="color: #ffbe33" href="index.html">Đăng Xuất</a></li>
      </ul>
    </div>
  </nav>

  <!-- CART CONTENT -->
  <section class="cart-page"  >
    <div class="cart-container" style="background-color: rgba(228, 193, 142, 0.9); 
            padding: 30px; 
            border-radius: 15px; 
            box-shadow: 0 4px 10px rgba(0,0,0,0.1); 
            max-width: 800px; 
            margin: auto;">
      <div class="cart-header">
        <h3>Giỏ Hàng Của Bạn</h3>
        <button id="clearBtn" class="btn btn-outline-danger">Xóa tất cả</button>
      </div>

      <div id="cartList" class="cart-list">
        <!-- JS sẽ chèn sản phẩm tại đây -->
      </div>

      <div class="cart-summary">
        <p>Tạm tính: <span id="subtotal">0 ₫</span></p>
        <p>Phí vận chuyển: <span id="shipping">0 ₫</span></p>
        <p style="font-size:18px;">Tổng cộng: <span id="total">0 ₫</span></p>
        <button id="checkoutBtn" class="checkout-btn mt-2">Mua hàng</button>
      </div>
    </div>
  </section>

  <script>
    const STORAGE_KEY = 'demo_cart_v1';
    function loadCart(){
      const data = localStorage.getItem(STORAGE_KEY);
      return data ? JSON.parse(data) : [];
    }
    function saveCart(cart){
      localStorage.setItem(STORAGE_KEY, JSON.stringify(cart));
    }

    // Nếu localStorage trống → thêm sản phẩm mẫu
    function initDemoCart(){
      let cart = loadCart();
      if(true){
        cart = [
          {
            id: 'p1',
            title: 'Lẩu Hải Sản',
            price: 259000,
            qty: 1,
            image: 'images/f2.png'
          },
          {
            id: 'p2',
            title: 'Lẩu Bò',
            price: 289000,
            qty: 2,
            image: 'images/f3.png'
          },
          {
            id: 'p3',
            title: 'Lẩu cua đồng',
            price: 239000,
            qty: 1,
            image: 'images/f1.png'
          }
        ];
        saveCart(cart);
      }
    }

    const cartListEl = document.getElementById('cartList');
    const subtotalEl = document.getElementById('subtotal');
    const shippingEl = document.getElementById('shipping');
    const totalEl = document.getElementById('total');
    const clearBtn = document.getElementById('clearBtn');
    const checkoutBtn = document.getElementById('checkoutBtn');

    let cart = [];

    function formatVND(num){
      return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".") + " ₫";
    }

    function renderCart(){
      cart = loadCart();
      cartListEl.innerHTML = '';
      if(cart.length === 0){
        cartListEl.innerHTML = '<p class="text-muted text-center">Giỏ hàng trống.</p>';
      } else {
        cart.forEach(item => {
          const div = document.createElement('div');
          div.className = 'cart-item';
          div.innerHTML = `
            <img src="${item.image}" alt="${item.title}">
            <div class="flex-fill">
              <h6>${item.title}</h6>
              <small>${item.qty} x ${formatVND(item.price)}</small>
            </div>
            <strong>${formatVND(item.qty * item.price)}</strong>
          `;
          cartListEl.appendChild(div);
        });
      }

      let subtotal = cart.reduce((sum, item) => sum + item.qty * item.price, 0);
      let shipping = subtotal >= 500000 ? 0 : (subtotal > 0 ? 30000 : 0);
      subtotalEl.textContent = formatVND(subtotal);
      shippingEl.textContent = formatVND(shipping);
      totalEl.textContent = formatVND(subtotal + shipping);
    }

    clearBtn.onclick = () => {
      if(cart.length === 0) return alert('Giỏ hàng đang rỗng.');
      if(confirm('Bạn có chắc muốn xóa toàn bộ giỏ hàng?')){
        cart = [];
        saveCart(cart);
        renderCart();
      }
    };

    checkoutBtn.onclick = () => {
      if(cart.length === 0) return alert('Giỏ hàng trống!');
      alert('Đặt hàng thành công! (Demo)');
      cart = [];
      saveCart(cart);
      renderCart();
    };

    // Khởi tạo demo
    initDemoCart();
    renderCart();
  </script>
</body>
</html>
