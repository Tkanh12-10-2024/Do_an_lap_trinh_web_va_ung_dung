<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-t" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <meta name="keywords" content="" />
  <meta name="description" content="" />
  <meta name="author" content="" />
  <link rel="shortcut icon" href="images/favicon.png" type="">

  <title>Láº©u ngon</title>

  <link rel="stylesheet" type="text/css" href="css/bootstrap.css" />

  <link rel="stylesheet" type="text/css"
    href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css" />
  <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/jquery-nice-select/1.1.0/css/nice-select.min.css"
    integrity="sha512-CruCP+TD3yXzlvvijET8wV5WxxEh5H8P4cmz0RFbKK6FlZ2sYl3AEsKlLPHbniXKSrDdFewhbmBK5skbdsASbQ=="
    crossorigin="anonymous" />
  <link href="css/font-awesome.min.css" rel="stylesheet" />

  <link href="css/style.css" rel="stylesheet" />
  <link href="css/responsive.css" rel="stylesheet" />
</head>

<body class="sub_page">

  <div class="hero_area">
    <div class="bg-box">
      <img src="images/hero-bg.jpg" alt="">
    </div>
    <header class="header_section">
      <div class="container">
        <nav class="navbar navbar-expand-lg custom_nav-container ">
          <a class="navbar-brand" href="index - signin.html">
            <span>Láº©u ngon</span>
          </a>

          <button class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
            aria-expanded="false" aria-label="Toggle navigation">
            <span class=""> </span>
          </button>

          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav  mx-auto ">
              <li class="nav-item">
                <a class="nav-link" href="index - signin.html">Trang chá»§ <span class="sr-only">(current)</span></a>
              </li>
              <li class="nav-item"><a class="nav-link" href="menu-signin.html">Menu</a></li>
              <li class="nav-item"><a class="nav-link" href="giohang .html">Giá» hÃ ng</a></li>
              <li class="nav-item"><a class="nav-link" href="index.html">ÄÄƒng xuáº¥t</a></li>
            </ul>

            <div class="user_option">
              <a href="giaodiennguoidung.html" class="user_link"><i class="fa fa-user" aria-hidden="true"></i></a>

              

              <a href="menu-signin.html" class="btn my-2 my-sm-0 nav_search-btn">
                <i class="fa fa-search" aria-hidden="true"></i>
              </a>

              <a id="loginButton" href="index.html" class="order_online">Anh TÃ¨o</a>
            </div>
          </div>
        </nav>
      </div>
    </header>

    
    </div>

  <section class="product_detail_section layout_padding">
    <div class="container">
      <div class="row">
        <div class="col-md-6">
          <div class="img_container">
            <div class="main_img mb-3">
              <img id="mainImage" src="images/f1.png" alt="Äang táº£i..." class="img-fluid rounded shadow">
            </div>
          </div>
        </div>

        <div class="col-md-6">
          <div class="detail-box">
            <h2 class="product_name">Láº©u cua Ä‘á»“ng</h2>
            <div class="rating mb-2">
              â­â­â­â­â­ <span class="text-muted">(201 Ä‘Ã¡nh giÃ¡)</span>
            </div>
            <h3 class="product_price text-danger mb-3">
              200.000â‚«
            </h3>
            <p class="product_desc">
              HÆ°Æ¡ng vá»‹ dÃ¢n dÃ£, nÆ°á»›c dÃ¹ng thanh ngá»t tá»« cua Ä‘á»“ng tÆ°Æ¡i, hÃ²a quyá»‡n cÃ¹ng rau xanh vÃ  Ä‘áº­u phá»¥, mang Ä‘áº­m há»“n quÃª Viá»‡t.
            </p>
            
            <div class="mb-3">
              <label for="quantity" class="font-weight-bold">Sá»‘ lÆ°á»£ng:</label>
              <div class="input-group" style="width: 120px;">
                <button class="btn btn-outline-secondary" type="button" onclick="decrease()">-</button>
                <input id="quantity" type="text" class="form-control text-center" value="1">
                <button class="btn btn-outline-secondary" type="button" onclick="increase()">+</button>
              </div>
            </div>

            <div class="btn-box mt-3">
              <button class="btn btn-primary btn-lg mr-2 add-to-cart-btn" data-id="" id="btnAddToCartDetail"><i class="fa fa-shopping-cart"></i> ThÃªm vÃ o giá»</button>
              <button class="btn btn-danger btn-lg" onclick="orderNow()"><i class="fa fa-bolt"></i> Mua ngay</button>
            </div>

            <div class="mt-4 p-3 bg-light rounded">
              <h5 class="mb-2">ğŸ Æ¯u Ä‘Ã£i Ä‘áº·c biá»‡t</h5>
              <ul class="list-unstyled ml-3">
                <li>âœ” Táº·ng kÃ¨m nÆ°á»›c ngá»t khi mua combo 2 pháº§n</li>
                <li>âœ” Giáº£m 10% cho Ä‘Æ¡n hÃ ng Ä‘áº§u tiÃªn</li>
                <li>âœ” Giao hÃ ng miá»…n phÃ­ trong bÃ¡n kÃ­nh 5km</li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <div class="row mt-5">
        <div class="col-12">
          <div class="detail-info bg-white p-4 rounded shadow-sm">
            <h4>MÃ´ táº£ chi tiáº¿t sáº£n pháº©m</h4>
            <p>HÆ°Æ¡ng vá»‹ dÃ¢n dÃ£, nÆ°á»›c dÃ¹ng thanh ngá»t tá»« cua Ä‘á»“ng tÆ°Æ¡i, hÃ²a quyá»‡n cÃ¹ng rau xanh vÃ  Ä‘áº­u phá»¥, mang Ä‘áº­m há»“n quÃª Viá»‡t.</p>
          </div>
        </div>
      </div>
    </div>
  </section>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script src="js/product.js"></script> 
  <script src="js/product-data.js"></script>

  Â  <script src="js/jquery-3.4.1.min.js"></script>
  Â  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
  Â  <script src="js/bootstrap.js"></script>
  Â  <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>
  Â  <script src="https://unpkg.com/isotope-layout@3.0.4/dist/isotope.pkgd.min.js"></script>
  Â  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-nice-select/1.1.0/js/jquery.nice-select.min.js"></script>
  
  Â  <script>
      // --- CÃC HÃ€M GIá» HÃ€NG (GIá»® NGUYÃŠN Tá»ª FILE CÅ¨) ---
  Â  Â  Â  function getCart() {
  Â  Â  Â  Â  Â  const cart = localStorage.getItem('cart');
  Â  Â  Â  Â  Â  return cart ? JSON.parse(cart) : [];
  Â  Â  Â  }
  Â  
  Â  Â  Â  function saveCart(cart) {
  Â  Â  Â  Â  Â  localStorage.setItem('cart', JSON.stringify(cart));
  Â  Â  Â  }

      // HÃ m updateCartCount() Ä‘Ã£ Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a á»Ÿ header
  
  Â  Â  Â  // --- HÃ€M Xá»¬ LÃ KHI NHáº¤N NÃšT THÃŠM VÃ€O GIá» HÃ€NG (TRANG CHI TIáº¾T) ---
      // (HÃ m nÃ y giá»¯ nguyÃªn, nÃ³ tá»± Ä‘á»™ng Ä‘á»c tá»« cÃ¡c-element Ä‘Ã£ Ä‘Æ°á»£c Ä‘iá»n)
  Â  Â  Â  function addToCartDetail(event) {
  Â  Â  Â  Â  Â  event.preventDefault(); 
  
  Â  Â  Â  Â  Â  const button = event.currentTarget;
  Â  Â  Â  Â  Â  const id = button.getAttribute('data-id');
  Â  Â  Â  Â  Â  const name = document.querySelector('.product_name').textContent.trim();
  Â  Â  Â  Â  Â  
  Â  Â  Â  Â  Â  const priceElement = document.querySelector('.product_price');
  Â  Â  Â  Â  Â  const fullPriceText = priceElement.textContent.trim(); 
  Â  Â  Â  Â  Â  const priceCleaned = fullPriceText.split(' ')[0].replace(/[^0-9]/g, '');
  Â  Â  Â  Â  Â  const price = parseInt(priceCleaned);
  Â  Â  Â  Â  Â  
  Â  Â  Â  Â  Â  const image = document.getElementById('mainImage').getAttribute('src');
  Â  Â  Â  Â  Â  const quantityInput = document.getElementById('quantity');
  Â  Â  Â  Â  Â  const quantity = parseInt(quantityInput.value);
  
  Â  Â  Â  Â  Â  // Kiá»ƒm tra tÃ­nh há»£p lá»‡
  // Â  Â  Â  Â  Â  if (!id || isNaN(price) || isNaN(quantity) || quantity < 1 || price === 0) {
  // Â  Â  Â  Â  Â  Â  Â  Swal.fire({
  // Â  Â  Â  Â  Â  Â  Â  Â  Â  icon: 'error',
  // Â  Â  Â  Â  Â  Â  Â  Â  Â  title: 'Lá»—i',
  // Â  Â  Â  Â  Â  Â  Â  Â  Â  text: 'KhÃ´ng thá»ƒ trÃ­ch xuáº¥t thÃ´ng tin sáº£n pháº©m. Vui lÃ²ng kiá»ƒm tra láº¡i.',
  // Â  Â  Â  Â  Â  Â  Â  });
  // Â  Â  Â  Â  Â  Â  Â  return;
  // Â  Â  Â  Â  }
  
  // Â  Â  Â  Â  let cart = getCart();
  // Â  Â  Â  Â  const existingItem = cart.find(item => item.id === id);
  
  // Â  Â  Â  Â  if (existingItem) {
  // Â  Â  Â  Â  Â  Â  existingItem.quantity += quantity; 
  // Â  Â  Â  Â  } else {
  // Â  Â  Â  Â  Â  Â  const item = {
  // Â  Â  Â  Â  Â  Â  Â  Â  id: id,
  // Â  Â  Â  Â  Â  Â  Â  Â  name: name,
  // Â  Â  Â  Â  Â  Â  Â  Â  price: price,
  // Â  Â  Â  Â  Â  Â  Â  Â  quantity: quantity,
  // Â  Â  Â  Â  Â  Â  Â  Â  image: image 
  // Â  Â  Â  Â  Â  Â  };
  // Â  Â  Â  Â  Â  Â  cart.push(item);
  // Â  Â  Â  Â  }
  
  // Â  Â  Â  Â  saveCart(cart);
  Â  Â  Â  Â  
  Â  Â  Â  Â  if (typeof updateCartCount === 'function') {
  Â  Â  Â  Â      updateCartCount();
  Â  Â  Â  Â  }
  Â  Â  Â  Â  
  Â  Â  Â  Â  Swal.fire({
  Â  Â  Â  Â  Â  Â  icon: 'success',
  Â  Â  Â  Â  Â  Â  title: 'ÄÃ£ thÃªm vÃ o giá» hÃ ng!',
  Â  Â  Â  Â  Â  Â  text: `${quantity} x ${name} Ä‘Ã£ Ä‘Æ°á»£c thÃªm vÃ o giá».`,
  Â  Â  Â  Â  Â  Â  showConfirmButton: false,
  Â  Â  Â  Â  Â  Â  timer: 1800,
  Â  Â  Â  Â  Â  Â  toast: true,
  Â  Â  Â  Â  Â  Â  position: 'top-end'
  Â  Â  Â  Â  });
  Â  Â  }
  
  Â  Â  // --- HÃ€M TÄ‚NG GIáº¢M Sá» LÆ¯á»¢NG (Giá»¯ nguyÃªn) ---
  Â  Â  function increase() {
  Â  Â  Â  Â  let quantityInput = document.getElementById('quantity');
  Â  Â  Â  Â  let currentVal = parseInt(quantityInput.value);
  Â  Â  Â  Â  quantityInput.value = currentVal + 1;
  Â  Â  }
  
  Â  Â  function decrease() {
  Â  Â  Â  Â  let quantityInput = document.getElementById('quantity');
  Â  Â  Â  Â  let currentVal = parseInt(quantityInput.value);
  Â  Â  Â  Â  if (currentVal > 1) {
  Â  Â  Â  Â  Â  Â  quantityInput.value = currentVal - 1;
  Â  Â  Â  Â  }
  Â  Â  }
      
      // *** HÃ€M Má»šI: Táº¢I Dá»® LIá»†U Sáº¢N PHáº¨M ***
      function loadProductDetails() {
          // 1. Láº¥y ID sáº£n pháº©m tá»« URL
          const urlParams = new URLSearchParams(window.location.search);
          const productId = urlParams.get('id');

          // 2. TÃ¬m sáº£n pháº©m trong CSDL (biáº¿n allProducts tá»« file product-data.js)
          const product = allProducts[productId];

          // 3. Náº¿u tÃ¬m tháº¥y sáº£n pháº©m -> Äá»• dá»¯ liá»‡u vÃ o HTML
          if (product) {
              // Cáº­p nháº­t tiÃªu Ä‘á» trang
              document.title = product.name + " - Láº©u ngon";

              // Cáº­p nháº­t thÃ´ng tin chÃ­nh
              document.querySelector('.product_name').textContent = product.name;
              // Format giÃ¡ tiá»n (vÃ­ dá»¥: 129000 -> 129.000â‚«)
              document.querySelector('.product_price').innerHTML = `${product.price.toLocaleString('vi-VN')}â‚«`;
              document.querySelector('.product_desc').textContent = product.shortDesc;
              document.querySelector('.rating .text-muted').textContent = `(${product.ratingCount} Ä‘Ã¡nh giÃ¡)`;

              // Cáº­p nháº­t hÃ¬nh áº£nh
              document.getElementById('mainImage').src = product.image;
              document.getElementById('mainImage').alt = product.name;

              // Cáº­p nháº­t data-id cho nÃºt "ThÃªm vÃ o giá»"
              document.getElementById('btnAddToCartDetail').setAttribute('data-id', product.id);

              // Cáº­p nháº­t mÃ´ táº£ chi tiáº¿t (xÃ³a mÃ´ táº£ cÅ©, thÃªm mÃ´ táº£ má»›i)
              const detailInfo = document.querySelector('.detail-info');
              detailInfo.innerHTML = '<h4>MÃ´ táº£ chi tiáº¿t sáº£n pháº©m</h4>'; // XÃ³a ná»™i dung "Äang táº£i..."
              
              product.longDesc.forEach(paraText => {
                  const p = document.createElement('p');
                  p.textContent = paraText;
                  detailInfo.appendChild(p);
              });

          } else {
              // 4. Náº¿u khÃ´ng tÃ¬m tháº¥y (sai ID hoáº·c vÃ o trá»±c tiáº¿p)
              document.querySelector('.product_detail_section .container').innerHTML = 
                  `<div class="text-center" style="padding: 50px 0;">
                      <h2>Oops! KhÃ´ng tÃ¬m tháº¥y sáº£n pháº©m</h2>
                      <p>Sáº£n pháº©m báº¡n Ä‘ang tÃ¬m khÃ´ng tá»“n táº¡i. Vui lÃ²ng quay láº¡i trang menu.</p>
                      <a href="menu.html" class="btn btn-primary">Vá» trang Menu</a>
                  </div>`;
          }
      }
  
  Â  Â  Â  // --- KHá»I Táº O ---
  Â  Â  Â  document.addEventListener('DOMContentLoaded', () => {
  Â  Â  Â  Â  Â  // Gáº¯n sá»± kiá»‡n cho nÃºt ThÃªm vÃ o giá» hÃ ng
  Â  Â  Â  Â  Â  const detailButton = document.getElementById('btnAddToCartDetail');
  Â  Â  Â  Â  Â  if (detailButton) {
  Â  Â  Â  Â  Â  Â  Â  detailButton.addEventListener('click', addToCartDetail);
  Â  Â  Â  Â  Â  }

          // HÃ m loadProductDetails() Ä‘Ã£ Ä‘Æ°á»£c gá»i trong script á»Ÿ header
  Â  Â  Â  });
  Â  </script>
  <script>function orderNow() {
  Swal.fire({
    title: "ğŸ‰ Äáº·t hÃ ng thÃ nh cÃ´ng!",
    html: `
      <img src="images/f1.png" alt="Pizza" style="width:100px; margin-bottom:10px; border-radius:50%;">
      <p style="font-size:17px;">Cáº£m Æ¡n báº¡n Ä‘Ã£ tin tÆ°á»Ÿng <b>Láº©u ngon</b> ğŸ•<br>
      ÄÆ¡n hÃ ng cá»§a báº¡n Ä‘ang Ä‘Æ°á»£c xá»­ lÃ½.</p>
    `,
    background: 'linear-gradient(135deg, #fff8e1, #ffe0b2)',
    color: '#333',
    showCancelButton: true,
    confirmButtonColor: '#ff6f00',
    cancelButtonColor: '#757575',
    confirmButtonText: 'Xem Ä‘Æ¡n hÃ ng',
    cancelButtonText: 'ÄÃ³ng',
    reverseButtons: true
  }).then((result) => {
    if (result.isConfirmed) {
      window.location.href = "giohang .html"; // chuyá»ƒn tá»›i trang Ä‘Æ¡n hÃ ng
    }
  });
}
</script>
</body>

</html>